version: "3.0"
stories:
- story: Get weekly planning, user initiated
  steps: 
  - user: | 
      Mag ik de planning?
    intent: request_plan_week
  - action: action_get_age_from_database
  - action: action_get_plan_week
  - action: utter_plan_week
  - action: utter_ask_plan_calendar
  - user: |
      Nee
    intent: deny
  - action: utter_okay

- story: Ask foreseen HRS, user does not foresee HRS
  steps:
  - intent: EXTERNAL_trigger_ask_foreseen_hrs
  - action: utter_ask_foreseen_hrs
  - user: |
      Nee
    intent: deny
  - action: utter_be_careful_for_hrs

- story: Get smoker words in future self
  steps: 
  - user: | 
      Ik wil future self dialog.
    intent: request_future_self_dialog 
  - action: utter_greet
  - action: utter_future_self_intro 
  - action: utter_future_self_duration
  - action: utter_future_self_explanation
  - checkpoint: ask_smoking_words_list

- story: Get smoker words in future self
  steps: 
  - user: | 
      Ik wil future self dialog.
    intent: request_future_self_dialog 
  - action: utter_greet
  - action: utter_future_self_intro 
  - action: utter_future_self_duration
  - action: utter_future_self_explanation
  - checkpoint: ask_smoking_words_list
  - action: utter_current_smoker
  - action: utter_smoking_word_list # TODO: In case of repetition retrieve last chosen words
  - action: pick_smoker_words_form
  - active_loop: pick_smoker_words_form
  - active_loop: null
  - action: utter_picked_smoker_words
  - checkpoint: check_picked_smoker_words
  - action: confirm_words_form
  - active_loop: confirm_words_form
  - slot_was_set:
    - confirm_words_response: true
  - active_loop: null
  - action: why_picked_smoker_words_form
  - active_loop: why_picked_smoker_words_form
  - slot_was_set:
    - why_picked_words: true
  - active_loop: null  


  # - action: confirm_words_form
  # - active_loop: confirm_words_form
  # - user: | 
  #     Ja.
  #   intent: confirm
  # - slot_was_set:
  #   - confirm_words_response: true
  # - active_loop: null
  # - action: why_picked_smoker_words_form
  # - active_loop: why_picked_smoker_words_form
  # - active_loop: null  # TODO: store slot in database
  # - action: utter_why_picked_words_response
  # - action: action_reset_picked_words_slot
  # - action: action_reset_why_picked_words_slot_smoking
  # - checkpoint: finished_check_picked_smoker_words


